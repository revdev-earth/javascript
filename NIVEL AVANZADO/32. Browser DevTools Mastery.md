# 32. Browser DevTools Mastery

Dominar las **Developer Tools** de tu navegador te convierte en un cirujano del cÃ³digo: puedes detectar, aislar y reparar problemas con precisiÃ³n.

## 1. Performance Profiling

Mide cuÃ¡nto tarda tu aplicaciÃ³n en cargar, renderizar y ejecutar cÃ³digo.

**Ejemplo:**

```javascript
console.time("carga-pagina");
// SimulaciÃ³n de trabajo pesado
for (let i = 0; i < 1e7; i++) {}
console.timeEnd("carga-pagina");
```

ğŸ“Œ Abre **Performance** â†’ Grabar â†’ Ejecuta la acciÃ³n â†’ DetÃ©n y analiza el timeline.

## 2. Memory Analysis

Encuentra fugas de memoria (**memory leaks**) y uso excesivo de RAM.

**Ejemplo:**

```javascript
let fuga = [];
function crearFuga() {
  fuga.push(new Array(1_000_000).fill("ğŸ’¾"));
}
setInterval(crearFuga, 1000);
```

ğŸ“Œ En DevTools: **Memory** â†’ "Take Heap Snapshot" antes y despuÃ©s â†’ Verifica que `Array` crece sin liberarse.

## 3. Network Debugging

Depura solicitudes y analiza tiempos de carga.

**Ejemplo:**

```javascript
fetch("https://jsonplaceholder.typicode.com/posts")
  .then((r) => r.json())
  .then(console.log);
```

ğŸ“Œ En **Network**:

- Filtra por `XHR`.
- Inspecciona Headers y Response.
- Comprueba si se habilitÃ³ **CORS** correctamente.

## 4. Source Maps

Depura cÃ³digo TypeScript o minificado viendo el original.

**Ejemplo:**

- `webpack.config.js`:

```javascript
module.exports = {
  devtool: "source-map",
};
```

ğŸ“Œ En DevTools, el archivo minificado aparecerÃ¡ enlazado al original y podrÃ¡s poner breakpoints en TS o ES6.

## 5. Breakpoint Strategies

Tipos de breakpoints para depuraciÃ³n precisa.

**Ejemplo:**

```javascript
function calcular(x) {
  return x > 5 ? "grande" : "pequeÃ±o";
}
calcular(6);
```

ğŸ“Œ En DevTools:

- **Breakpoint condicional** en `return...` con:

```javascript
x > 5;
```

- **DOM breakpoint** en un botÃ³n para detectar quiÃ©n lo modifica.

## 6. Custom DevTools Extensions

Crea paneles personalizados dentro de DevTools.

**Ejemplo:** `manifest.json`

```json
{
  "name": "MiPanel",
  "version": "1.0",
  "manifest_version": 3,
  "devtools_page": "panel.html"
}
```

ğŸ“Œ Esto agrega un panel nuevo en DevTools para inspeccionar tu app con lÃ³gica personalizada.

## 7. Lighthouse Auditing

Audita rendimiento, accesibilidad y SEO.

**Ejemplo:**

- Abre **Lighthouse**.
- Selecciona "Performance" + "Mobile".
- Ejecuta auditorÃ­a y obtÃ©n sugerencias como "Usar imÃ¡genes WebP".

## 8. Coverage Analysis

Mide cuÃ¡nto CSS y JS estÃ¡ realmente en uso.

**Ejemplo:**

- `Ctrl+Shift+P` â†’ "Show Coverage".
- VerÃ¡s, por ejemplo:

```css
/* styles.css */
.button {
  color: red;
} /* usado */
.hidden {
  display: none;
} /* no usado */
```

ğŸ“Œ Esto permite eliminar estilos y scripts muertos.

## 9. Heap Snapshots

Compara estado de memoria entre acciones.

**Ejemplo:**

```javascript
let cache = [];
document.querySelector("#boton").addEventListener("click", () => {
  cache.push(new Array(1_000_000).fill("ğŸ”"));
});
```

ğŸ“Œ Heap snapshot antes y despuÃ©s de pulsar el botÃ³n â†’ Detecta que los objetos siguen en memoria.
