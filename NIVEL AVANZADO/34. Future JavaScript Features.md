# 34. Future JavaScript Features

JavaScript evoluciona constantemente gracias al proceso de estandarización del **TC39**. Conocer las nuevas propuestas y cómo usarlas de forma segura te permite adelantarte y escribir código más moderno y eficiente.

## 1. TC39 Proposals

Las nuevas funcionalidades de JavaScript pasan por un proceso en el **comité TC39** antes de ser parte del estándar.

**Ejemplo de propuesta:**

- `Array.prototype.at()` fue una propuesta → ahora es estándar.

```javascript
const arr = [10, 20, 30];
console.log(arr.at(-1)); // 30
```

## 2. Stage Process

Cada propuesta pasa por **5 etapas**:

1. **Stage 0 – Strawman**: Idea inicial.
2. **Stage 1 – Proposal**: Descripción del problema y posible solución.
3. **Stage 2 – Draft**: Borrador técnico.
4. **Stage 3 – Candidate**: Lista para implementación en navegadores.
5. **Stage 4 – Finished**: Ya es parte del estándar.

**Ejemplo:**

- **Pattern Matching** está en Stage 1.

```javascript
// Propuesta futura (ejemplo simplificado)
match (value) {
  when { x: 1 } -> console.log("Uno");
  when { x: 2 } -> console.log("Dos");
}
```

## 3. Experimental Features

Puedes probar funciones futuras usando **navegadores con flags activados** o herramientas como **Babel**.

```bash
# Con Babel, activando plugins de propuestas
npm install @babel/plugin-proposal-pipeline-operator
```

## 4. Backwards Compatibility

JavaScript es famoso por mantener compatibilidad hacia atrás, para que el código viejo siga funcionando.

**Ejemplo de compatibilidad:** Código ES5 todavía corre en navegadores modernos:

```javascript
var nombre = "Juan";
function saludar() {
  console.log("Hola " + nombre);
}
```

## 5. Feature Detection

Antes de usar una nueva API, verifica si está disponible.

```javascript
if ("at" in Array.prototype) {
  console.log([1, 2, 3].at(-1)); // 3
} else {
  console.log("Método .at() no soportado");
}
```

## 6. Progressive Enhancement

Implementa nuevas funciones sin romper compatibilidad.

**Ejemplo:** usar `??` (Nullish Coalescing) si existe, y un fallback si no:

```javascript
const valor = window.miConfig?.opcion ?? "valor por defecto";
```
