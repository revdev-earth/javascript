# 33. Code Quality y Maintainability

Mantener un c√≥digo limpio y f√°cil de escalar es clave para evitar que un proyecto se convierta en una pesadilla t√©cnica.

## 1. SOLID Principles

Cinco principios para un dise√±o flexible y mantenible.

### S ‚Äì Single Responsibility

Una clase/funci√≥n debe tener una √∫nica responsabilidad.

**Ejemplo:**

```javascript
// ‚ùå Mal: la clase hace todo
class UserManager {
  saveUser(user) {
    /* ... */
  }
  sendEmail(user) {
    /* ... */
  }
}

// ‚úÖ Bien: responsabilidades separadas
class UserRepository {
  save(user) {
    /* ... */
  }
}
class EmailService {
  send(user) {
    /* ... */
  }
}
```

### O ‚Äì Open/Closed

Abierto a extensi√≥n, cerrado a modificaci√≥n.

**Ejemplo:**

```javascript
class Payment {
  process(amount) {
    /* ... */
  }
}
class PayPalPayment extends Payment {
  process(amount) {
    /* implementaci√≥n PayPal */
  }
}
```

## 2. Clean Code

C√≥digo legible, con nombres claros y funciones peque√±as.

**Ejemplo:**

```javascript
// ‚ùå Mal
function c(u) {
  return u * 1.19;
}

// ‚úÖ Bien
function calcularPrecioConIVA(precio) {
  return precio * 1.19;
}
```

## 3. Refactoring Techniques

Mejora c√≥digo sin cambiar su comportamiento.

**Ejemplo (Extract Method):**

```javascript
// Antes
function procesarPedido(pedido) {
  console.log("Validando pedido...");
  // l√≥gica de validaci√≥n
  console.log("Calculando env√≠o...");
  // l√≥gica de env√≠o
}

// Despu√©s
function procesarPedido(pedido) {
  validarPedido(pedido);
  calcularEnvio(pedido);
}
```

## 4. Code Smells

Patrones que indican problemas futuros.

- **Long Method** ‚Üí muy largo ‚Üí dividirlo.
- **Duplicated Code** ‚Üí reutilizar funciones.
- **God Object** ‚Üí clase que hace demasiado.

**Ejemplo de duplicaci√≥n:**

```javascript
// ‚ùå
function calcularAreaRect(a, b) {
  return a * b;
}
function calcularAreaCuadro(l) {
  return l * l;
}

// ‚úÖ
function calcularArea(base, altura = base) {
  return base * altura;
}
```

## 5. Technical Debt

Compromisos que aceleran hoy pero cuestan ma√±ana.

**Ejemplo:**

```javascript
// Soluci√≥n r√°pida (mala pr√°ctica)
if (userRole == "admin" || userRole == "super" || userRole == "godmode") {
  /* ... */
}
// Esto luego es dif√≠cil de mantener
```

## 6. Dependency Management

Controla las librer√≠as externas para evitar bloat y vulnerabilidades.

**Ejemplo:**

```bash
# Actualizar dependencias inseguras
npm audit fix
# Revisar versiones
npm outdated
```

## 7. Documentation Strategies

Documenta para el futuro t√∫ mismo y otros desarrolladores.

**Ejemplo con JSDoc:**

```javascript
/**
 * Calcula el precio con IVA.
 * @param {number} precio - Precio base
 * @returns {number} Precio con IVA
 */
function calcularPrecioConIVA(precio) {
  return precio * 1.19;
}
```

## üí° Pro Tip

Antes de a√±adir una librer√≠a externa, preg√∫ntate:
"¬øPodr√≠a resolver esto con JavaScript nativo?"
