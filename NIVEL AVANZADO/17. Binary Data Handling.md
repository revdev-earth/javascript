# 17. Binary Data Handling

En JavaScript, aunque la mayorÃ­a de datos se manejan como **strings** u **objetos**, hay APIs para tratar datos binarios de forma eficiente. Esto es fundamental en **procesamiento de imÃ¡genes, audio, video, WebSockets, WebRTC, criptografÃ­a, y archivos**.

## 1. ArrayBuffer

- Objeto que representa un **bloque fijo de memoria** binaria.
- No se accede directamente; necesitas una **vista** como `TypedArray` o `DataView`.

```javascript
const buffer = new ArrayBuffer(8); // 8 bytes
console.log(buffer.byteLength); // 8
```

ğŸ’¡ **Uso tÃ­pico:** recibir datos binarios desde red, WebAssembly, o APIs multimedia.

## 2. TypedArrays

- Vistas sobre un `ArrayBuffer` que interpretan los bytes como tipos especÃ­ficos.
- **Ejemplos:** `Uint8Array`, `Int16Array`, `Float32Array`.

```javascript
const buffer = new ArrayBuffer(4);
const view = new Uint8Array(buffer);
view[0] = 255;
console.log(view); // Uint8Array(4) [255, 0, 0, 0]
```

ğŸ’¡ **Uso tÃ­pico:** manipulaciÃ³n de imÃ¡genes, procesamiento de audio.

## 3. DataView

- Vista mÃ¡s flexible sobre un `ArrayBuffer`.
- Permite leer y escribir en cualquier offset, con control de endianess.

```javascript
const buffer = new ArrayBuffer(4);
const view = new DataView(buffer);
view.setUint16(0, 500, true); // Little-endian
console.log(view.getUint16(0, true)); // 500
```

ğŸ’¡ **Uso tÃ­pico:** trabajar con formatos binarios personalizados.

## 4. Blob

- Representa datos binarios como un archivo inmutable.
- Puede contener texto, imÃ¡genes, video, o cualquier binario.

```javascript
const blob = new Blob(["Hola mundo"], { type: "text/plain" });
console.log(blob.size); // 10 bytes
```

ğŸ’¡ **Uso tÃ­pico:** descargas, subidas de archivos, generaciÃ³n de PDFs.

## 5. File API

- Extiende `Blob` con metadatos (`name`, `lastModified`).
- Usado para manejar archivos seleccionados por el usuario.

```javascript
document.querySelector("input[type=file]").addEventListener("change", (e) => {
  const file = e.target.files[0];
  console.log(file.name, file.size);
});
```

## 6. FileReader

- Lee archivos o blobs en varios formatos: texto, ArrayBuffer, DataURL.

```javascript
const reader = new FileReader();
reader.onload = (e) => console.log("Contenido:", e.target.result);
reader.readAsText(new Blob(["Hola"]));
```

ğŸ’¡ **Uso tÃ­pico:** previsualizar imÃ¡genes, leer datos de CSV.

## 7. Streams

- API para manejar datos binarios grandes de forma **incremental**.
- Evita cargar todo en memoria.

```javascript
fetch("video.mp4").then((res) => {
  const reader = res.body.getReader();
  return reader.read().then(({ done, value }) => {
    if (!done) console.log("Chunk:", value);
  });
});
```

ğŸ’¡ **Uso tÃ­pico:** transmisiÃ³n de video, procesamiento en tiempo real.

## 8. Binary Operations

- Operaciones a nivel de bit con operadores `&`, `|`, `^`, `~`, `<<`, `>>`.
- Ãštiles para compresiÃ³n, encriptaciÃ³n, protocolos de red.

```javascript
let a = 5; // 0101
let b = 3; // 0011
console.log(a & b); // 1 (0001)
```

### ğŸ“Œ Resumen visual del flujo de trabajo binario en JS:

```
Red / Archivo / Sensor
          â†“
   ArrayBuffer (memoria binaria)
          â†“
TypedArray / DataView (interpretaciÃ³n)
          â†“
Blob / File / Streams (almacenamiento / transmisiÃ³n)
```
